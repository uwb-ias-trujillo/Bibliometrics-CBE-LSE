---
title: "CBE-LSE Bibliometric Analysis"
author: "Caleb Trujillo, Darcie Nelson, Rachel Kudlacz, Germaine Ng"
date: "4/1/2020"
output:
  html_document: default
  word_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
require("devtools")
require("rgexf")
require("bibliometrix")
#devtools::install_github("massimoaria/bibliometrix")
library(bibliometrix)
library(tidyverse)
library(networkD3)
library(rgexf)
```

##Introduction

There has tremendous growth in the area undergraduate biology research over the last two decades. This study attempts to summarize and analyze the progress of this growth. 

### Summary of initial data set
This is a placeholder for the inital data set
Whole group
```{r dataset}
txt <- "rawdata/CBE_LSE_2008-2019/CBE_LSErecords1-733.txt"
data <- convert2df(file = txt, dbsource = 'wos', format = "plaintext")
results <- biblioAnalysis(data, sep = ";")
```
```{r biblio}
S <- summary(object = results, k = 10, pause = FALSE)
S
```

## Research Questions

### Social Network Analysis (SNA) of co-authorship: What social structures are organizing co-authorship? 
Rachel Kudlacz 
This is the placeholder for the question about the social struction of co-authorship the among the CBE-LSE authors. A social network analysis approach was used...
Text to introduce the script and outputs
```{r co-authorship,echo=FALSE}
#INSERT FUNCTION FOR CREATING DOCUMENT COCITATION NETWORK using 'data' file
# Create a Social Network Analysis(SNA) Network from Co-Citation Network
NetMatrix <- biblioNetwork(data, analysis = "co-citation", network = "references", sep = ";")

# Plot the network - look into SNA application
net = networkPlot(NetMatrix, n = 200, Title = "Social Network Analysis", type = "fruchterman", size=T, remove.multiple=FALSE, labelsize = 3, edgesize = 5, edges.min = 4, label.n = 30, cluster = "louvain", remove.isolates = TRUE, label.cex = TRUE)
```

Text to explain what is shown in the figures.

### What are the collaborative connections between institutions?

Germaine Ng 

This is the placeholder for the question about collaborations between different universities (institutions)
Text to introduce the script and outputs

```{r collaborative, echo=FALSE}
#INSERT FUNCTION FOR CREATING INSTITUTIONAL NETWORK using 'data' file
UNdata <- metaTagExtraction(data, Field = "AU_UN", sep = ";")

NetMatrix <- biblioNetwork(UNdata, analysis = "collaboration", network = "universities", sep = ";")

# Plot the network

net=networkPlot(NetMatrix, n = dim(NetMatrix)[1], Title = "Top 20 University Collaborations", type = "auto", size.cex =TRUE, remove.multiple=FALSE, remove.isolates = TRUE, labelsize=0.7,edgesize = 5, edges.min = 4)

head(net$nodeDegree) # Top six universities by degree of publications with other universities

#Create an interactive graphic
g<-igraph_to_networkD3(net$graph,net$cluster_res)
forceNetwork(Links = g$links, Nodes = g$nodes, Source = 'source',
             Target = 'target', NodeID = 'name', fontSize = 10, 
             Group = 'vertex', bounded = TRUE, opacityNoHover	= 1
)
Uni_NetStat <- networkStat(NetMatrix)
```
Text to explain what is shown in the figures.

### What is the intellectual structures? Document co-citation network

Darcie Nelson
This is the placeholder for the question about documents frequently cited together
Text to introduce the script and outputs. 

```{r DCA, echo=FALSE, fig.width = 50, fig.asp = .618}
#INSERT FUNCTION FOR CREATING DOCUMENT COCITATION NETWORK using 'data' file
# Create a co-citation network
NetMatrix <- biblioNetwork(data, analysis = "co-citation", network = "references", sep = ";")

# Plot the network
net = networkPlot(NetMatrix, n = dim(NetMatrix)[1], Title = "Co-Citation Network", type = "auto", size.cex = TRUE, remove.multiple=FALSE, labelsize = 10, edgesize = 5, edges.min = 4, label.n = 30, cluster = "louvain", remove.isolates = TRUE, label.cex = TRUE)

plot(net$graph, vertex.label.family = "Helvetica")
names(net$nodeDegree["american association 2011-1"])<- "AAAS 2011"
net$nodeDegree
#g<-igraph_to_networkD3(net$graph)
#forceNetwork(Links = g$links, Nodes = g$nodes, Source = 'source',
             #Target = 'target', NodeID = 'name', fontSize = 10, 
             #Group = 1, zoom = TRUE, bounded = FALSE)
```
Text to explain what is shown in the figures.



